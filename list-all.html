<!DOCTYPE html>
<html>
  <head>
    <title>List all</title>
    <style type="text/css">
      .table { display: table;
      border-collapse:separate; 
      // border-spacing:0.2em;} 
      .table>* { display: table-row; }
      .table>*>* { display: table-cell;
      border: 1px solid gray;
      padding: 1px}
    </style>
  </head>
  <body>
    <a href="/app?action=show&id=1">Record 1</a>
    <br>
    <a href="/app?action=catreport">Category report</a>
    <br>
    Message: {{sys-msg}}
    <form action="" method="GET">
      <input type="hidden" name="action" value="set_limit_date">
      <input type="text" name="limit_date" value="{{limit-date}}">
      <input type="submit" name="limit_month" value="Limit Month">
    </form>
    <p>
      <div class="table">
        <div>
          <div>date</div><div>category</div><div>amount</div><div>mileage</div><div>notes</div>
        </div>
        {{#all-recs}}
        <div>
          <div>
            {{date}}
          </div>
          <div>
            {{#category_list}}
            {{category_name}}
            <br>
            {{/category_list}}
          </div>
          <div>{{amount}}</div>
          <div>{{mileage}}</div>
          <div>{{notes}}</div>
          <div>
            <a href="/app?action=show&id={{id}}&using_year={{using_year}}&limit_date={{limit-date}}">Edit id {{id}}</a>
          </div>
        </div>
        {{/all-recs}}
        <form action="" method="GET">
          <input type="hidden" name="action" value="insert">
          <input type="hidden" name="limit_date" value="{{limit-date}}">
          <input type="hidden" name="using_year" value="{{using_year}}">
          <div>
            <input type="hidden" name="id" value="">
            <input autofocus="autofocus" type="text" name="date" value="">
          </div>
          <div>
            <select name="category">
              {{#all-category}}
              <option value="{{id}}">{{name}}</option>
              {{/all-category}}
            </select>
          </div>
          <div><input type="text" name="amount" value=""></div>
          <div><input type="text" name="mileage" value="" ></div>
          <div><input type="text" name="notes" value="" ></div>
          <div>
            <input type="submit" name="insert" value="insert">
          </div>
        </form>
      </div>
  </body>
</html>
